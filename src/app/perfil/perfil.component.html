
<div class="masthead">
    <div class="container-wrapper">
        <div class="container-fluid py-5 h-100">
            <div class="row d-flex justify-content-center align-items-center h-100">
              <div class="col col-lg-9 col-xl-7">
                <div class="card" style="background-color: rgba(255, 255, 255, 0.4);">
                  
               
                  <div class="rounded-top text-white d-flex flex-row" style="background-color: rgba(0, 0, 0, 0.0); height:200px;">
                    <div class="ms-4 mt-5 d-flex flex-column" style="width: 150px;">
                      <img src={{Perfil.image}}
                        alt="Generic placeholder image" class="img-fluid img-thumbnail mt-4 mb-2" style="width: 150px; z-index: 1">
                    </div>
                  
                    <div class="ms-3" style="margin-top: 130px;">
                      <h5>{{Perfil.name}}</h5>
                      <p>{{Perfil.shortdesc}}</p>
                    </div>
                  
                    <div class="ms-auto" style="margin-top: 130px;">
                      <button class="editar" data-toggle="modal" data-target="#editModal"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear" viewBox="0 0 16 16">
                        <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
                        <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"/>
                      </svg> Editar perfil</button>
                    </div>
                  </div>
                  
                  
<div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header border-bottom-0">
        <button type="button" class="buttoncloselogin" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="form-title text-center">
          <h4>Editar Perfil</h4><br>
        </div>
        <div class="d-flex flex-column text-center">
          <form #perfilForm="ngForm" (ngSubmit)="actualizarPerfil(perfilForm)">
            <div class="form-group">
              <label for="shortdesc">Título</label>
              <input type="text" class="form-control" id="shortdesc" name="shortdesc" [(ngModel)]="tempShortDesc" placeholder="Descripción corta">
            </div>
            <div class="form-group">
              <label for="longdesc">Descripción</label>
              <input type="text" class="form-control" id="longdesc" name="longdesc" [(ngModel)]="tempLongDesc" placeholder="Sobre ti">
            </div>
            <div class="form-group">
              <label for="image">Foto de perfil</label>
              <input type="text" class="form-control" id="image" name="image" [(ngModel)]="tempProfileImage" placeholder="Añade un enlace">
            </div>
            <div class="form-group">
              <label for="linkedin">LinkedIn</label>
              <input type="text" class="form-control" id="linkedin" name="linkedin" [(ngModel)]="tempLinkedin" placeholder="LinkedIn">
            </div>
            <div class="form-group">
              <label for="github">Github</label>
              <input type="text" class="form-control" id="github" name="github" [(ngModel)]="tempGithub" placeholder="Github">
            </div>
            <div class="form-group">
              <label for="twitter">Twitter</label>
              <input type="text" class="form-control" id="twitter" name="twitter" [(ngModel)]="tempTwitter" placeholder="Twitter">
            </div>
            <br>
            <button type="submit" class="btn btn-info btn-block btn-round">Guardar cambios</button><br>
          </form>
          
        
        </div>
      </div>
    </div>
     
  </div>
</div>



<div class="modal fade" id="addModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header border-bottom-0">
        <button type="button" class="buttoncloselogin" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <div class="form-title text-center">
          <h4>Añadir proyecto</h4><br>
        </div>
            <div class="d-flex flex-column text-center">
                <form #miFormulario="ngForm">
                  <div class="form-group">
                    <label for="name">Nombre</label>
                    <input type="text" class="form-control" id="name" name="name" [(ngModel)]="tempNombre" placeholder="Descripción corta" required>
                  </div>
                  <div class="form-group">
                    <label for="longdesc">Tag</label>
                    <input type="text" class="form-control" id="longdesc" name="longdesc" [(ngModel)]="tempFiltro" placeholder="Filtro" required>
                  </div>
                  <div class="form-group">
                    <label for="image">Imagen</label>
                    <input type="text" class="form-control" id="image" name="image" [(ngModel)]="tempImagen" placeholder="Añade un enlace" required>
                  </div>
                  
                  <br>
                  <button type="button" (click)="agregarNuevoProyecto(miFormulario)" class="btn btn-info btn-block btn-round">Añadir proyecto</button><br>
                  
                  <!-- Mostrar un mensaje de éxito o error según el estado de proyectoAgregado -->
                  <div *ngIf="proyectoAgregado; else error">
                    <p class="text-success">¡Proyecto agregado exitosamente!</p>
                    <!-- Mostrar información del nuevo proyecto agregado -->
                    <div *ngIf="nuevoProyecto">
                      <p>ID del nuevo proyecto: {{ nuevoProyecto.projectid }}</p>
                      <p>Nombre del proyecto: {{ nuevoProyecto.name }}</p>
                      <p>Filtro del proyecto: {{ nuevoProyecto.filter }}</p>
                      <p>Imagen del proyecto: {{ nuevoProyecto.image }}</p>
                      <!-- Agrega aquí más campos según tus necesidades -->
                    </div>
                  </div>
                  
                  <ng-template #error>
                   
                  </ng-template>
                </form>
              </div>
              

            </div>
            
          
          </div>
      </div>

    </div>
     
  </div>
</div>








                  <div class="p-4 text-black" style="background-color: #f8f9fa;">
                    <div class="d-flex justify-content-start text-center py-1">
                      
                     
                      <div class="tags">
                      <button class="btn filter-button" data-filter="all">All</button>
                      <button class="btn filter-button" data-filter="hdpe">IA</button>
                      <button class="btn filter-button" data-filter="sprinkle">Database</button>
                      <button class="btn filter-button" data-filter="spray">Backend</button>
                      <button class="btn filter-button" data-filter="irrigation">Frontend</button>
                     
                      </div>
                      
                      <div>
                        <a *ngIf="Perfil.links?.linkedin" href="{{ Perfil.links.linkedin }}" target="_blank" rel="noopener noreferrer">
                          <p class="mb-1 h5"><i class="fab fa-linkedin" style="color: #000000;"></i></p>
                          <p class="small text-muted mb-0">LinkedIn</p>
                        </a>
                      </div>
                      
                      <div class="px-3">
                        <a *ngIf="Perfil.links?.github" href="{{ Perfil.links.github }}" target="_blank" rel="noopener noreferrer">
                          <p class="mb-1 h5"><i class="fab fa-github" style="color: #000000;"></i></p>
                          <p class="small text-muted mb-0">Github</p>
                        </a>
                      </div>
                      
                      <div>
                        <a *ngIf="Perfil.links?.twitter" href="{{ Perfil.links.twitter }}" target="_blank" rel="noopener noreferrer">
                          <p class="mb-1 h5"><i class="fab fa-twitter" style="color: #000000;"></i></p>
                          <p class="small text-muted mb-0">Twitter</p>
                        </a>
                      </div>
                      
                    </div>
                    </div>






                  
                    
                  
                  <div class="card-body p-4 text-black">
                    <div class="mb-5">
                 
                      
                      <div class="p-4" style="background-color: #f8f9fa;">
                        <p *ngFor="let line of Perfil.longdesc.split('\n')">{{ line }}</p>
                      </div>
                      
                      <div class=" align-items-center mb-4 mt-4">
                        <button class="editar" data-toggle="modal" data-target="#addModal"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">
                          <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                          <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"/>
                        </svg> Añadir proyecto</button>
                      </div>


                

                      <div *ngIf="Perfil.proyectos.length > 0">
                        <div class="row g-2">
                          <div *ngFor="let proyecto of Perfil.proyectos" class="gallery_product col-md-6 mb-2 filter {{ proyecto.filter }}">
                            <img [src]="proyecto.image" alt="image" class="w-100 rounded-3">
                            <div class="middle">
                              <div class="text">{{ proyecto.name }}</div>
                              <!-- Button to delete the project -->
                              <button class="btn btn-info btn-block btn-round" (click)="eliminarProyecto(Perfil.userid, proyecto.projectid)">Eliminar proyecto</button>
                            </div>
                          </div>
                        </div>
                      </div>
                      
                      
                          


                    </div>
                  </div>


                </div>
              </div>
            </div>
          </div>
    
